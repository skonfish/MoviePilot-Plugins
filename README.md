# MoviePilot - 媒体库管家 (Media Library Manager)

一个用于 MoviePilot V2 的插件，旨在帮助用户扫描、分析并清理电影和电视剧库。本插件通过获取 TMDb 的元数据（如评分、类型、上映日期等），生成一份全面的媒体库清单，并允许用户根据此清单标记并批量删除文件。

## ✨ 功能特性

- **UI化配置**：所有路径、API密钥等均在 MoviePilot 界面中配置。
- **电影与电视剧分离处理**：为电影和电视剧使用不同的扫描和信息获取逻辑，结果更准确。
- **丰富的数据维度**：获取评分、类型、时长、季数、国家/地区等多种信息，辅助决策。
- **一键式操作**：提供“扫描分析”和“执行删除”两个按钮，简化工作流。
- **安全决策流程**：扫描后生成 Excel 文件 (`_MASTER_inventory.xlsx`)，由用户手动标记，完全掌控删除过程。

## 🚀 安装与使用

1.  将此项目文件夹放置于 MoviePilot 的 `plugins.v2` 目录下。
2.  重启 MoviePilot。
3.  在“设置”->“插件”中找到“媒体库管家”，进行配置：
    - 填入您的电影/电视剧目录的绝对路径。
    - 填入您的 TMDb v4 API 读访问令牌。
4.  在插件页面，点击 **“1. 扫描并生成总表”**。
5.  等待任务完成，然后访问 MoviePilot 的数据目录 (`/config/data/plugins/medialibmanager/`)，找到 `_MASTER_inventory.xlsx` 文件。
6.  使用 Excel 或其他表格软件打开该文件，**新增一列，表头为 `Action`**。
7.  在 `Action` 列中，为您想要删除的每一行文件填入 `DELETE`。
8.  保存并关闭文件。
9.  回到插件页面，点击 **“2. 执行删除”** 按钮完成清理。